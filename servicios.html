<!-- 
======================================================================================
SERVICIOS.HTML - PÁGINA DE CATÁLOGO DE SERVICIOS DISPONIBLES EN TEVP
======================================================================================
Propósito: Página dedicada a mostrar todos los servicios disponibles en TEVP
Funcionalidad principal: Catálogo filtrable de profesionales y sus servicios
Conexión: Se integra con main.js para mostrar datos de profesionales
======================================================================================
-->

<!DOCTYPE html> <!-- Declaración del tipo de documento HTML5 estándar -->

<!-- ELEMENTO RAÍZ HTML -->
<!-- ATRIBUTO lang="es": Especifica el idioma español para SEO y accesibilidad -->
<html lang="es">

<head> <!-- Sección HEAD: contiene metadatos que no se muestran en la página -->
    
    <!-- ================================================================== -->
    <!-- META TAGS PRINCIPALES PARA CONFIGURACIÓN BÁSICA -->
    <!-- ================================================================== -->
    
    <!-- CODIFICACIÓN DE CARACTERES -->
    <!-- UTF-8: Codificación Unicode que soporta caracteres especiales y acentos -->
    <meta charset="UTF-8">
    
    <!-- CONFIGURACIÓN RESPONSIVE -->
    <!-- viewport: Controla cómo se renderiza la página en dispositivos móviles -->
    <!-- width=device-width: Hace que el ancho coincida con el dispositivo -->
    <!-- initial-scale=1.0: Establece el zoom inicial al 100% -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <!-- ================================================================== -->
    <!-- META TAGS PARA CONTROL DE CACHÉ DEL NAVEGADOR -->
    <!-- ================================================================== -->
    <!-- Estas etiquetas previenen que el navegador almacene versiones antiguas -->
    
    <!-- CONTROL DE CACHÉ HTTP -->
    <!-- no-cache: El navegador debe revalidar con el servidor -->
    <!-- no-store: No almacenar en caché local -->
    <!-- must-revalidate: Debe revalidar cuando el caché expira -->
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
    
    <!-- PRAGMA: Compatibilidad con navegadores HTTP/1.0 antiguos -->
    <meta http-equiv="Pragma" content="no-cache">
    
    <!-- EXPIRACIÓN: Establece que el contenido expira inmediatamente -->
    <meta http-equiv="Expires" content="0">
    
    <!-- TÍTULO DE LA PÁGINA -->
    <!-- Aparece en la pestaña del navegador y es importante para SEO -->
    <title>Servicios - TEVP</title>
    
    <!-- ================================================================== -->
    <!-- HOJAS DE ESTILO EXTERNAS (CSS) -->
    <!-- ================================================================== -->
    
    <!-- BOOTSTRAP CSS -->
    <!-- Framework CSS que proporciona componentes pre-diseñados y sistema de grillas responsivo -->
    <!-- Versión 5.3.2: Incluye componentes como navbar, cards, buttons, modal, etc. -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    
    <!-- FONT AWESOME -->
    <!-- Biblioteca de iconos vectoriales escalables para UI -->
    <!-- Versión 6.4.0: Incluye iconos como fa-tools, fa-home, fa-user, etc. -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- ESTILOS PERSONALIZADOS DE TEVP -->
    <!-- CSS específico del proyecto que complementa Bootstrap -->
    <link rel="stylesheet" href="css/styles.css">
    
</head> <!-- Fin de la sección HEAD -->

<body> <!-- Inicio del cuerpo del documento - contenido visible de la página -->
    
    <!-- ================================================================== -->
    <!-- BARRA DE NAVEGACIÓN PRINCIPAL -->
    <!-- ================================================================== -->
    
    <!-- NAVEGACIÓN RESPONSIVA -->
    <!-- CLASE: navbar - Componente de navegación de Bootstrap -->
    <!-- CLASE: navbar-expand-lg - Se expande en pantallas grandes (≥992px) -->
    <!-- CLASE: navbar-dark - Estilo para fondos oscuros (texto blanco) -->
    <!-- CLASE: sticky-top - Se mantiene fijo en la parte superior al hacer scroll -->
    <nav class="navbar navbar-expand-lg navbar-dark sticky-top">
        
        <!-- CONTENEDOR RESPONSIVO -->
        <!-- CLASE: container - Contenedor Bootstrap que centra el contenido y aplica márgenes responsivos -->
        <div class="container">
            
            <!-- ============================================================== -->
            <!-- LOGO Y MARCA DE TEVP -->
            <!-- ============================================================== -->
            
            <!-- ENLACE DE LA MARCA/LOGO -->
            <!-- CLASE: navbar-brand - Estilo especial Bootstrap para logos en navegación -->
            <!-- ATRIBUTO href: Redirige a la página principal del sitio -->
            <a class="navbar-brand" href="index.html">
                <!-- ICONO DE HERRAMIENTAS -->
                <!-- CLASE: fas fa-tools - Font Awesome, icono sólido de herramientas -->
                <!-- CLASE: me-2 - Margen derecho de 0.5rem (separación entre icono y texto) -->
                <i class="fas fa-tools me-2"></i>
                
                <!-- NOMBRE DE LA MARCA -->
                TEVP <!-- Acrónimo: Técnicos Especializados y Venta de Productos -->
            </a>
            
            <!-- ============================================================== -->
            <!-- BOTÓN HAMBURGUESA PARA NAVEGACIÓN MÓVIL -->
            <!-- ============================================================== -->
            
            <!-- BOTÓN COLAPSIBLE -->
            <!-- CLASE: navbar-toggler - Botón Bootstrap para colapsar/expandir navegación -->
            <!-- ATRIBUTO type="button" - Especifica que es un botón clickeable -->
            <!-- ATRIBUTO data-bs-toggle="collapse" - Bootstrap activa comportamiento de colapso -->
            <!-- ATRIBUTO data-bs-target="#navbarNav" - ID del elemento que se colapsa/expande -->
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <!-- ICONO DEL BOTÓN HAMBURGUESA -->
                <!-- CLASE: navbar-toggler-icon - Icono predeterminado Bootstrap (tres líneas horizontales) -->
                <span class="navbar-toggler-icon"></span>
            </button>
            
            <!-- ============================================================== -->
            <!-- MENÚ DE NAVEGACIÓN COLAPSIBLE -->
            <!-- ============================================================== -->
            
            <!-- CONTENEDOR COLAPSIBLE -->
            <!-- CLASE: collapse - Bootstrap hace que el contenido sea ocultable/mostrable -->
            <!-- CLASE: navbar-collapse - Específico para navegación colapsable -->
            <!-- ID: navbarNav - Identificador referenciado por el botón hamburguesa -->
            <div class="collapse navbar-collapse" id="navbarNav">
                
                <!-- ========================================================== -->
                <!-- ENLACES PRINCIPALES DEL SITIO (LADO IZQUIERDO) -->
                <!-- ========================================================== -->
                
                <!-- LISTA DE NAVEGACIÓN PRINCIPAL -->
                <!-- CLASE: navbar-nav - Lista de navegación Bootstrap -->
                <!-- CLASE: me-auto - Margen derecho automático (empuja el contenido hacia la izquierda) -->
                <ul class="navbar-nav me-auto">
                    
                    <!-- ENLACE: INICIO -->
                    <!-- CLASE: nav-item - Contenedor Bootstrap para elementos de navegación -->
                    <li class="nav-item">
                        <!-- CLASE: nav-link - Estilo Bootstrap para enlaces de navegación -->
                        <a class="nav-link" href="index.html">Inicio</a>
                    </li>
                    
                    <!-- ENLACE: SERVICIOS (PÁGINA ACTUAL) -->
                    <li class="nav-item">
                        <!-- CLASE: active - Indica que esta es la página actualmente visitada -->
                        <!-- PROPÓSITO: Resalta visualmente dónde se encuentra el usuario -->
                        <a class="nav-link active" href="servicios.html">Servicios</a>
                    </li>
                    
                    <!-- ENLACE: NOSOTROS -->
                    <li class="nav-item">
                        <a class="nav-link" href="nosotros.html">Nosotros</a>
                    </li>
                    
                    <!-- ENLACE: BLOG -->
                    <li class="nav-item">
                        <a class="nav-link" href="blogs.html">Blog</a>
                    </li>
                    
                    <!-- ENLACE: CONTACTO -->
                    <li class="nav-item">
                        <a class="nav-link" href="contacto.html">Contacto</a>
                    </li>
                </ul>
                
                <!-- ========================================================== -->
                <!-- ÁREA DE USUARIO Y CARRITO (LADO DERECHO) -->
                <!-- ========================================================== -->
                
                <!-- LISTA DE NAVEGACIÓN SECUNDARIA -->
                <!-- CLASE: navbar-nav - Lista de navegación Bootstrap -->
                <ul class="navbar-nav">
                    
                    <!-- ====================================================== -->
                    <!-- ICONO DEL CARRITO DE COMPRAS -->
                    <!-- ====================================================== -->
                    
                    <!-- ELEMENTO DEL CARRITO -->
                    <!-- CLASE: me-3 - Margen derecho de 1rem para separación -->
                    <li class="nav-item me-3">
                        
                        <!-- ENLACE DEL CARRITO -->
                        <!-- CLASE: cart-icon - Clase CSS personalizada para estilizar el carrito -->
                        <!-- ATRIBUTO: data-bs-toggle="modal" - Bootstrap abrirá un modal al hacer clic -->
                        <!-- ATRIBUTO: data-bs-target="#cartModal" - ID del modal que se abrirá -->
                        <!-- ATRIBUTO: onclick="loadCartModal()" - Función JavaScript que carga el contenido del modal -->
                        <a href="#" class="cart-icon" data-bs-toggle="modal" data-bs-target="#cartModal" onclick="loadCartModal()">
                            
                            <!-- ICONO DEL CARRITO -->
                            <!-- CLASE: fas fa-shopping-cart - Font Awesome, icono sólido de carrito de compras -->
                            <i class="fas fa-shopping-cart"></i>
                            
                            <!-- CONTADOR DE ARTÍCULOS -->
                            <!-- CLASE: cart-count - Clase CSS personalizada para el contador -->
                            <!-- CONTENIDO: "0" - Valor inicial, se actualiza dinámicamente con JavaScript -->
                            <span class="cart-count">0</span>
                        </a>
                    </li>
                    
                    <!-- ====================================================== -->
                    <!-- MENÚ DESPLEGABLE DEL USUARIO AUTENTICADO -->
                    <!-- ====================================================== -->
                    
                    <!-- ELEMENTO DROPDOWN PARA USUARIO AUTENTICADO -->
                    <!-- CLASE: dropdown - Componente Bootstrap para menú desplegable -->
                    <!-- CLASE: d-none - Display none (oculto por defecto), se muestra via JavaScript -->
                    <!-- ID: user-info - Identificador para mostrar/ocultar según estado de autenticación -->
                    <li class="nav-item dropdown d-none" id="user-info">
                        
                        <!-- ENLACE PRINCIPAL DEL DROPDOWN -->
                        <!-- CLASE: dropdown-toggle - Añade la flecha indicadora del dropdown -->
                        <!-- CLASE: d-flex - Display flex para alineación de elementos -->
                        <!-- CLASE: align-items-center - Alinea elementos verticalmente al centro -->
                        <!-- ATRIBUTO: role="button" - Accesibilidad, indica que actúa como botón -->
                        <!-- ATRIBUTO: data-bs-toggle="dropdown" - Bootstrap activa el comportamiento dropdown -->
                        <a class="nav-link dropdown-toggle d-flex align-items-center" href="#" role="button" data-bs-toggle="dropdown">
                            
                            <!-- ICONO DE PERFIL DE USUARIO -->
                            <!-- CLASE: fas fa-user-circle - Font Awesome, icono circular de usuario -->
                            <!-- CLASE: me-2 - Margen derecho de 0.5rem -->
                            <i class="fas fa-user-circle me-2"></i>
                            
                            <!-- NOMBRE DEL USUARIO -->
                            <!-- ID: user-name - Se actualiza dinámicamente con JavaScript al hacer login -->
                            <!-- CONTENIDO: "Usuario" - Valor por defecto -->
                            <span id="user-name">Usuario</span>
                        </a>
                        
                        <!-- ================================================== -->
                        <!-- MENÚ DESPLEGABLE DE OPCIONES DE USUARIO -->
                        <!-- ================================================== -->
                        
                        <!-- CONTENEDOR DEL MENÚ -->
                        <!-- CLASE: dropdown-menu - Estilo Bootstrap para menús desplegables -->
                        <ul class="dropdown-menu">
                            
                            <!-- OPCIÓN: MI PERFIL -->
                            <li>
                                <!-- CLASE: dropdown-item - Estilo Bootstrap para elementos del dropdown -->
                                <!-- ATRIBUTO: onclick - Ejecuta función JavaScript para mostrar perfil -->
                                <a class="dropdown-item" href="#" onclick="showUserProfile()">Mi Perfil</a>
                            </li>
                            
                            <!-- OPCIÓN: MIS PEDIDOS -->
                            <li>
                                <a class="dropdown-item" href="#" onclick="showUserOrders()">Mis Pedidos</a>
                            </li>
                            
                            <!-- SEPARADOR VISUAL -->
                            <li>
                                <!-- CLASE: dropdown-divider - Línea separadora Bootstrap -->
                                <hr class="dropdown-divider">
                            </li>
                            
                            <!-- OPCIÓN: CERRAR SESIÓN -->
                            <li>
                                <a class="dropdown-item" href="#" onclick="logout()">Cerrar Sesión</a>
                            </li>
                        </ul>
                    </li>
                    
                    <!-- ====================================================== -->
                    <!-- ENLACES DE AUTENTICACIÓN (USUARIO NO LOGUEADO) -->
                    <!-- ====================================================== -->
                    <!-- NOTA: Estos enlaces solo se muestran cuando NO hay usuario autenticado -->
                    
                    <!-- ENLACE DE REGISTRO -->
                    <!-- ID: auth-link-register - Para mostrar/ocultar según estado de autenticación -->
                    <li class="nav-item" id="auth-link-register">
                        <a class="nav-link" href="registro.html">Registro</a>
                    </li>
                    
                    <!-- ENLACE DE INICIO DE SESIÓN -->
                    <!-- ID: auth-link-login - Para mostrar/ocultar según estado de autenticación -->
                    <li class="nav-item" id="auth-link-login">
                        <a class="nav-link" href="login.html">Iniciar Sesión</a>
                    </li>
                    
                </ul> <!-- Fin de navbar-nav secundaria -->
            </div> <!-- Fin de collapse navbar-collapse -->
        </div> <!-- Fin de container navegación -->
    </nav> <!-- Fin de nav principal -->

    <!-- =================================================================== -->
    <!-- CONTENIDO PRINCIPAL DE LA PÁGINA DE SERVICIOS -->
    <!-- =================================================================== -->
    
    <!-- CONTENEDOR PRINCIPAL RESPONSIVO -->
    <!-- CLASE: container - Contenedor Bootstrap que centra el contenido y aplica márgenes responsivos -->
    <!-- CLASE: my-5 - Margen vertical (margin-top y margin-bottom) de 3rem cada uno -->
    <!-- CLASE: main-content - Clase CSS personalizada definida en styles.css -->
    <div class="container my-5 main-content">
        
        <!-- CLASES BOOTSTRAP EXPLICADAS:
             - container: contenedor responsivo con márgenes automáticos
             - my-5: margen vertical (top y bottom) de 5 unidades
             - main-content: clase CSS personalizada -->
        
        <!-- FILA PRINCIPAL DEL CONTENIDO -->
        <!-- CLASE: row - Sistema de grillas Bootstrap, crea una fila para distribuir columnas -->
        <div class="row">
            
            <!-- COLUMNA COMPLETA -->
            <!-- CLASE: col-12 - Ocupa las 12 columnas disponibles (100% del ancho) -->
            <div class="col-12">
                <!-- col-12: ocupa las 12 columnas (100% ancho) -->
                
                <!-- =================================================================== -->
                <!-- ENCABEZADO DE LA PÁGINA DE SERVICIOS -->
                <!-- =================================================================== -->
                
                <!-- TÍTULO PRINCIPAL -->
                <!-- CLASE: section-title - Clase CSS personalizada para títulos principales -->
                <!-- PROPÓSITO: Identifica claramente el contenido de la página -->
                <h1 class="section-title">Nuestros Servicios Profesionales</h1>
                
                <!-- =================================================================== -->
                <!-- SISTEMA DE FILTROS Y BÚSQUEDA AVANZADA -->
                <!-- =================================================================== -->
                
                <!-- FILA PARA CONTROLES DE FILTRADO -->
                <!-- CLASE: row - Sistema de grillas Bootstrap -->
                <!-- CLASE: mb-4 - Margen inferior de 1.5rem para separación -->
                <div class="row mb-4">
                    <!-- mb-4: margen inferior de 4 unidades -->
                    
                    <!-- ====================================================== -->
                    <!-- FILTRO POR CATEGORÍA DE SERVICIO -->
                    <!-- ====================================================== -->
                    
                    <!-- COLUMNA PARA FILTRO DE CATEGORÍA -->
                    <!-- CLASE: col-md-4 - Ocupa 4 columnas (33.33% del ancho) en pantallas medianas -->
                    <div class="col-md-4">
                        <!-- col-md-4: 4 columnas (33.33% ancho) en pantallas medianas -->
                        
                        <!-- ELEMENTO SELECT PARA FILTRAR CATEGORÍAS -->
                        <!-- CLASE: form-select - Estilo Bootstrap para elementos de selección -->
                        <!-- ID: category-filter - Identificador único para manipulación JavaScript -->
                        <select class="form-select" id="category-filter">
                            <!-- ATRIBUTOS SELECT:
                                 - form-select: estilo Bootstrap para elementos select
                                 - id="category-filter": identificador para JavaScript -->
                            
                            <!-- OPCIÓN POR DEFECTO -->
                            <!-- value="" - Valor vacío muestra todas las categorías sin filtro -->
                            <option value="">Todas las categorías</option>
                            <!-- Opción por defecto que muestra todos los servicios -->
                            
                            <!-- NOTA TÉCNICA: Las opciones se cargan dinámicamente con JavaScript:
                                 - displayServiceCategories() puebla este select
                                 - Categorías disponibles: Plomería, Electricidad, Climatización, 
                                   Electrodomésticos, Construcción, Soldadura -->
                            
                            <!-- Las opciones se cargan dinámicamente con JavaScript:
                                 - displayServiceCategories() puebla este select
                                 - Categorías: Plomería, Electricidad, Climatización, etc. -->
                        </select>
                    </div>
                    
                    <!-- BARRA DE BÚSQUEDA EN TIEMPO REAL -->
                    <div class="col-md-8">
                        <!-- col-md-8: 8 columnas (66.67% ancho) para campo de búsqueda -->
                        
                        <div class="input-group">
                            <!-- input-group: agrupa input con botón Bootstrap -->
                            
                            <input type="text" class="form-control" id="search-input" placeholder="Buscar servicios...">
                            <!-- ATRIBUTOS INPUT BÚSQUEDA:
                                 - type="text": campo de texto para búsqueda
                                 - form-control: estilo Bootstrap para inputs
                                 - id="search-input": identificador para JavaScript
                                 - placeholder: texto guía para el usuario -->
                            
                            <!-- BOTÓN DE BÚSQUEDA -->
                            <button class="btn btn-outline-secondary" type="button" onclick="searchServices()">
                                <!-- ATRIBUTOS BOTÓN:
                                     - btn btn-outline-secondary: estilo Bootstrap con borde gris
                                     - type="button": especifica que es botón clickeable
                                     - onclick="searchServices()": ejecuta función JavaScript -->
                                
                                <i class="fas fa-search"></i> <!-- Icono de lupa Font Awesome -->
                            </button>
                        </div>
                    </div>
                </div>

                <!-- =================================================================== -->
                <!-- CONTENEDOR DINÁMICO PARA GRID DE SERVICIOS -->
                <!-- =================================================================== -->
                <div class="row" id="services-grid">
                    <!-- ELEMENTOS IMPORTANTES:
                         - row: sistema de grid Bootstrap para tarjetas responsivas
                         - id="services-grid": identificador único para JavaScript
                         - Este contenedor se puebla dinámicamente con displayServices() -->
                    
                    <!-- INDICADOR DE CARGA INICIAL -->
                    <div class="col-12 text-center">
                        <!-- col-12: ocupa todo el ancho mientras carga -->
                        <!-- text-center: centra el spinner y mensaje -->
                        
                        <div class="loading">
                            <!-- loading: clase CSS personalizada para estilos de carga -->
                            
                            <!-- SPINNER DE BOOTSTRAP -->
                            <div class="spinner-border" role="status">
                                <!-- ATRIBUTOS SPINNER:
                                     - spinner-border: componente Bootstrap de animación circular
                                     - role="status": atributo de accesibilidad para lectores de pantalla -->
                                
                                <span class="visually-hidden">Cargando...</span>
                                <!-- visually-hidden: texto solo para lectores de pantalla -->
                            </div>
                            
                            <p class="mt-2">Cargando servicios...</p>
                            <!-- mt-2: margen superior de 2 unidades -->
                            <!-- Mensaje visible para indicar el proceso de carga -->
                        </div>
                    </div>
                    <!-- NOTA: Las cards de servicios se generan dinámicamente con JavaScript -->
                </div>
                
            </div>
        </div>
    </div>

    <!-- Modal del Carrito -->
    <div class="modal fade" id="cartModal" tabindex="-1">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">
                        <i class="fas fa-shopping-cart me-2"></i>Carrito de Compras
                    </h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    <div id="cart-items">
                        <!-- Items del carrito se cargarán aquí -->
                    </div>
                </div>
                <div class="modal-footer">
                    <div class="cart-total me-auto">
                        Total: <span id="cart-total">$0</span>
                    </div>
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cerrar</button>
                    <button type="button" class="btn btn-primary" onclick="proceedToPayment()">Proceder al Pago</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer class="mt-5">
        <div class="container">
            <div class="row">
                <div class="col-md-4">
                    <h5><i class="fas fa-tools me-2"></i>TEVP</h5>
                    <p>Tu solución en servicios profesionales técnicos</p>
                </div>
                <div class="col-md-4">
                    <h5>Enlaces Rápidos</h5>
                    <ul class="list-unstyled">
                        <li><a href="servicios.html" class="text-light">Servicios</a></li>
                        <li><a href="nosotros.html" class="text-light">Nosotros</a></li>
                        <li><a href="contacto.html" class="text-light">Contacto</a></li>
                    </ul>
                </div>
                <div class="col-md-4">
                    <h5>Contacto</h5>
                    <p><i class="fas fa-envelope me-2"></i>contacto@tevp.cl</p>
                    <p><i class="fas fa-phone me-2"></i>+56 2 2345 6789</p>
                </div>
            </div>
            <hr>
            <div class="text-center">
                <p>&copy; 2025 TEVP. Todos los derechos reservados.</p>
            </div>
        </div>
    </footer>

    <!-- Scripts -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    <script src="js/main.js"></script>
    <script>
        // Función de búsqueda de servicios
        function searchServices() {
            const searchTerm = document.getElementById('search-input').value.toLowerCase();
            
            if (!window.services) {
                console.error('Servicios no disponibles');
                return;
            }
            
            const filteredProducts = window.services.filter(service => 
                service.nombre.toLowerCase().includes(searchTerm) ||
                service.descripcion.toLowerCase().includes(searchTerm) ||
                service.categoria.toLowerCase().includes(searchTerm)
            );
            
            displayServices(filteredProducts);
        }

        function displayServices(servicesToShow) {
            const container = document.getElementById('services-grid');
            if (!container) {
                console.error('Container services-grid no encontrado');
                return;
            }
            
            container.innerHTML = '';
            
            if (servicesToShow.length === 0) {
                container.innerHTML = '<div class="col-12 text-center"><p>No se encontraron servicios.</p></div>';
                return;
            }
            
            // Usar la función de main.js para mostrar servicios
            if (window.displayAllServices) {
                // Temporal: actualizar los servicios filtrados
                const originalServices = window.services;
                window.services = servicesToShow;
                window.displayAllServices();
                window.services = originalServices;
            } else {
                // Fallback: crear cards básicas
                container.innerHTML = servicesToShow.map(service => `
                    <div class="col-md-6 col-lg-4 mb-4">
                        <div class="card h-100 service-card">
                            <img src="${service.imagen}" class="card-img-top" alt="${service.nombre}" style="height: 200px; object-fit: cover;">
                            <div class="card-body">
                                <h5 class="card-title">${service.nombre}</h5>
                                <p class="card-text">${service.descripcion}</p>
                                <div class="d-flex justify-content-between align-items-center mb-2">
                                    <span class="badge bg-primary">${service.categoria}</span>
                                    <small class="text-muted">${service.profesionalesDisponibles} profesionales</small>
                                </div>
                                <div class="mb-2">
                                    <strong>$${service.precioDesde.toLocaleString()} - $${service.precioHasta.toLocaleString()}</strong>
                                    <small class="text-muted d-block">Tiempo: ${service.tiempoRespuesta}</small>
                                </div>
                            </div>
                            <div class="card-footer">
                                <button class="btn btn-primary w-100" onclick="viewServiceDetails(${service.id})">
                                    Ver Profesionales
                                </button>
                            </div>
                        </div>
                    </div>
                `).join('');
            }
        }

        function viewServiceDetails(serviceId) {
            console.log('Redirigiendo a profesionales para servicio:', serviceId);
            if (window.services) {
                const service = window.services.find(s => s.id === serviceId);
                if (service) {
                    window.location.href = `profesionales.html?categoria=${encodeURIComponent(service.categoria)}`;
                }
            }
        }

        // Configurar búsqueda en tiempo real
        document.addEventListener('DOMContentLoaded', function() {
            console.log('Página de servicios cargada');
            
            const searchInput = document.getElementById('search-input');
            if (searchInput) {
                searchInput.addEventListener('input', searchServices);
            }
            
            // Esperar a que main.js cargue los datos y luego mostrar todos los servicios
            setTimeout(() => {
                if (window.services && window.services.length > 0) {
                    displayServices(window.services);
                } else {
                    console.error('Servicios no disponibles en servicios.html');
                }
            }, 300);
        });
    </script>
</body>
</html>